{"mappings":"AAAA,MAAMA,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,YACjCC,EAAiBJ,SAASG,cAAc,cAC9C,IAAIE,EAAO,EACPC,EAAQ,GAEZP,EAAWQ,iBAAiB,UAAUC,MAAMC,IAC1CA,EAAEC,iBACFJ,EAAQP,EAAWY,YAAYC,MAC/BP,EAAO,EACPQ,IACAC,EAAaR,EAAM,IAGrBF,EAAeG,iBAAiB,SAAS,KACvCF,IACAS,EAAaR,EAAM,IAGrB,MAAMO,EAAe,KACnBX,EAAQa,UAAY,EAAE,EAkClBD,EAAeN,MAAMG,IACzB,MAGMK,EAAS,+CAA4CL,kEAA4EN,gBAEvI,IACE,MAAMY,QAAiBC,MAAMF,GACvBG,QAAaF,EAASG,OAE5B,GAAID,EAAKE,UAAY,EAAG,EAzCNC,EA0CFH,EAAKI,MA3BhBC,SAAQC,IACbvB,EAAQa,WAfW,CAAAU,GAAS,4DAETA,EAAMC,sDAAsDD,EAAME,qCAC7DF,EAAMG,sBAAsBH,EAAME,iIAGTF,EAAMI,iEACNJ,EAAMK,oEACHL,EAAMM,wEACLN,EAAMO,0DAMtCC,CAAaR,EAAM,IAGzB,IAAIS,eAAe,aAAc,IAE5B,IAAlBZ,EAAOa,QACT/B,EAAegC,MAAMC,QAAU,OAC/BC,SAASC,OAAOC,QACd,6EAGFpC,EAAegC,MAAMC,QAAU,QAiBhB,IAAThC,GACFiC,SAASC,OAAOE,QAAQ,oBAAoBtB,EAAKE,qBAGnD,MAAQqB,OAAQC,GACdzC,EAAQ0C,kBAAkBC,wBAC5BC,OAAOC,SAAS,CACdC,IAAkB,EAAbL,EACLM,SAAU,U,MAGZX,SAASC,OAAOC,QACd,4EAIArB,EAAKE,WA3BK,GA2BQhB,IACpBD,EAAegC,MAAMC,QAAU,OAC/BC,SAASC,OAAOW,QACd,8D,CAGJ,MAAOC,GACPC,QAAQD,MAAM,uBAAwBA,E,CAnEpB,IAAA7B,C","sources":["src/index.js"],"sourcesContent":["const searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreButton = document.querySelector('.load-more');\nlet page = 1;\nlet query = '';\n\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  query = searchForm.searchQuery.value;\n  page = 1;\n  clearGallery();\n  searchImages(query);\n});\n\nloadMoreButton.addEventListener('click', () => {\n  page++;\n  searchImages(query);\n});\n\nconst clearGallery = () => {\n  gallery.innerHTML = '';\n};\n\nconst displayImages = images => {\n  const cardTemplate = image => `\n        <div class=\"photo-card\">\n            <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n            </a>\n            <div class=\"info\">\n                <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>\n                <p class=\"info-item\"><b>Views:</b> ${image.views}</p>\n                <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>\n                <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>\n            </div>\n        </div>\n    `;\n\n  images.forEach(image => {\n    gallery.innerHTML += cardTemplate(image);\n  });\n\n  const lightbox = new SimpleLightbox('.gallery a', {});\n\n  if (images.length === 0) {\n    loadMoreButton.style.display = 'none';\n    notiflix.Notify.failure(\n      'Sorry, there are no images matching your search query. Please try again.'\n    );\n  } else {\n    loadMoreButton.style.display = 'block';\n  }\n};\n\nconst searchImages = async searchQuery => {\n  const apiKey = 'YOUR_API_KEY';\n  const perPage = 40;\n\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  try {\n    const response = await fetch(apiUrl);\n    const data = await response.json();\n\n    if (data.totalHits > 0) {\n      displayImages(data.hits);\n\n      if (page === 1) {\n        notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`);\n      }\n\n      const { height: cardHeight } =\n        gallery.firstElementChild.getBoundingClientRect();\n      window.scrollBy({\n        top: cardHeight * 2,\n        behavior: 'smooth',\n      });\n    } else {\n      notiflix.Notify.failure(\n        'Sorry, there are no images matching your search query. Please try again.'\n      );\n    }\n\n    if (data.totalHits <= page * perPage) {\n      loadMoreButton.style.display = 'none';\n      notiflix.Notify.warning(\n        \"We're sorry, but you've reached the end of search results.\"\n      );\n    }\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n};\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreButton","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$query","addEventListener","async","e","preventDefault","searchQuery","value","$1f0dc3b9307be026$var$clearGallery","$1f0dc3b9307be026$var$searchImages","innerHTML","apiUrl","response","fetch","data","json","totalHits","images","hits","forEach","image","largeImageURL","tags","webformatURL","likes","views","comments","downloads","cardTemplate","SimpleLightbox","length","style","display","notiflix","Notify","failure","success","height","cardHeight","firstElementChild","getBoundingClientRect","window","scrollBy","top","behavior","warning","error","console"],"version":3,"file":"index.82d3d84f.js.map"}